{
  "name": "fleettargeted-conditional-campaign",
  "signalCatalogArn": "arn:aws:iotfleetwise:${AWS_REGION}:${AWS_ACCOUNT_ID}:signal-catalog/main-signal-catalog",
  "targetArn": "arn:aws:iotfleetwise:${AWS_REGION}:${AWS_ACCOUNT_ID}:fleet/blog-fleet",
  "collectionScheme": {
    "conditionBasedCollectionScheme": {
      "conditionLanguageVersion": 1,
      "expression": "$variable.`EVBatterySample.BMS.BatteryTemperature` > 30",
      "minimumTriggerIntervalMs": 5000,
      "triggerMode": "ALWAYS"
    }
  },
  "dataExtraDimensions": ["VehicleVIN"],
  "compression": "SNAPPY",
  "diagnosticsMode": "SEND_ACTIVE_DTCS",
  "postTriggerCollectionDuration": 3000,
  "priority": 0,
  "signalsToCollect": [
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.Drivetrain.ActualVehicleSpeed"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.BMS.BatteryTemperature"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.BMS.BatteryElectrical_i"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.BMS.BatteryElectrical_v"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.BMS.StateOfCharge"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.BMS.Distance"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "EVBatterySample.Drivetrain.MotorCommand"
    },
    {
      "maxSampleCount": 1,
      "minimumSamplingIntervalMs": 100,
      "name": "OBD.EngineSpeed"
    }
  ]
}
